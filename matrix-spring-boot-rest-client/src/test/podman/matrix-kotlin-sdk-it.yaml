apiVersion: v1
kind: Pod
metadata:
  labels:
    app: matrix-kotlin-sdk-it
  name: matrix-kotlin-sdk-it
spec:
  volumes:
    - name: matrix-kotlin-sdk-it-synapse-volume
      hostPath:
        path: ./synapse
        type: DirectoryOrCreate
  containers:
  - name: matrix-kotlin-sdk-it-synapse
    env:
    - name: SYNAPSE_REPORT_STATS
      value: false
    - name: UID
      value: 0
    - name: GID
      value: 0
    image: docker.io/matrixdotorg/synapse:latest
    ports:
    - containerPort: 8008
      hostPort: 8008
      protocol: TCP
    volumeMounts:
        - name: matrix-kotlin-sdk-it-synapse-volume
          mountPath: /data
    workingDir: /
